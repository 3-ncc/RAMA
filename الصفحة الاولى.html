<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ุฃููุช ููู</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
html{scroll-behavior:smooth;}

body{
  font-family:'Cairo', sans-serif;
  margin:0;
  padding:20px;
  background:url('https://i.ibb.co/Fk4VVZrC/Beige-Red-Minimalist-Happy-Valentine-s-Day-Love-You-Card-1.png')
  no-repeat center center fixed;
  background-size:cover;
}

/* ุฒุฑ ุงูุฑูุณุช ุงูุตุบูุฑ */
.reset-btn{
  position:fixed;
  top:10px;
  left:10px;
  width:30px;
  height:30px;
  border-radius:8px;
  background:#ffbef4;
  border:none;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
  box-shadow:0 4px 10px rgba(255,190,244,.5);
}
.reset-btn:hover{background:#ff9fe6}

.back-home{
  display:block;
  width:fit-content;
  margin:10px auto 20px;
  padding:10px 22px;
  background:#ffbef4;
  color:#333;
  text-decoration:none;
  border-radius:25px;
  font-weight:700;
}

h1,h2{text-align:center;color:#333}

.wrapper{
  display:flex;
  gap:20px;
  flex-wrap:wrap;
  justify-content:center;
}

.section{
  background:rgba(255,255,255,0.92);
  padding:22px;
  max-width:480px;
  width:100%;
  border-radius:18px;
  box-shadow:0 12px 30px rgba(0,0,0,.15);
}

.section-wide{
  max-width:760px;
  margin:30px auto;
}

label{display:block;margin-top:12px}

input,select,textarea,button{
  width:100%;
  padding:10px;
  margin-top:6px;
  border-radius:10px;
  border:1px solid #ddd;
  font-family:'Cairo', sans-serif;
}

button{
  background:#ffbef4;
  border:none;
  font-weight:700;
  cursor:pointer;
}
button:hover{background:#ff9fe6}

.result{
  margin-top:15px;
  padding:15px;
  background:#fff0fa;
  border-radius:12px;
  border:1px solid #ffc7e8;
}

.result-table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}
.result-table th,
.result-table td{
  padding:10px;
  text-align:center;
  border-bottom:1px solid #ffd6eb;
}
.result-table th{background:#ffbef4}

/* ===== ุงููููุจ ===== */
@keyframes loveFloat{
  from{opacity:0;transform:translateY(0) scale(.8)}
  20%{opacity:1}
  to{opacity:0;transform:translateY(-110vh) scale(1)}
}
@keyframes msgPop{
  from{opacity:0;transform:translate(-50%,20px) scale(.95)}
  to{opacity:1;transform:translate(-50%,0) scale(1)}
}
</style>
</head>

<body>

<button class="reset-btn" onclick="resetAll()" title="ุฅุนุงุฏุฉ ุชุนููู">โบ</button>

<a href="index.html" class="back-home">โ ุงูุฑุฌูุน ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>

<h1>ุชุตุญูุญ ุชูุงุฑูุฑ ุงููุดุฑูุฉ ุงูุฃูุถู ูุงูุญููุฉ ๐ค</h1>

<div class="wrapper">

<div class="section">
<h2>๐ ุงูุชูุฒูุน</h2>

<label>ุงูููุทูุฉ</label>
<select id="region">
  <option value="">-- ุงุฎุชุงุฑู ุงูููุทูุฉ --</option>
  <option value="LS">ููุณ ุณุงูุชูุณ</option>
  <option value="SB">ุณุงูุฏู / ุจูููุชู</option>
</select>

<label>ุนุฏุฏ ุงููุญุฏุงุช</label>
<input type="number" id="units">

<button onclick="calculate()">ุชุตุญูุญ ุงูุชูุฑูุฑ</button>
<div id="reportResult" class="result"></div>
</div>

<div class="section">
<h2>๐ ูุญุต ุงูุชูุฑุงุฑ</h2>
<textarea id="dupInput" rows="6"></textarea>
<button onclick="checkDuplicates()">ูุญุต ุงูุชูุฑุงุฑ</button>
<div id="dupResult" class="result"></div>
</div>

</div>

<div class="section section-wide">
<h2>๐ ููุงุฑูุฉ ุชูุฑูุฑูู</h2>

<label>ุงูุชูุฑูุฑ ุงููุฏูู</label>
<textarea id="oldReport" rows="10"></textarea>

<label>ุงูุชูุฑูุฑ ุงูุฌุฏูุฏ</label>
<textarea id="newReport" rows="10"></textarea>

<button onclick="runCompare()">ูุงุฑู</button>
<div id="compareResult" class="result"></div>
</div>

<script>
/* ================== ุงูุชูุฒูุน ================== */
const data={
LS:{
1:{"ูุงู 1":0,"ูุงู 2":1,"ูุงู 3":0,"ูุงู 4":0,"ูุงู 5":0,"ูุฑุณุงู":0},
2:{"ูุงู 1":0,"ูุงู 2":1,"ูุงู 3":0,"ูุงู 4":1,"ูุงู 5":0,"ูุฑุณุงู":0},
3:{"ูุงู 1":0,"ูุงู 2":1,"ูุงู 3":1,"ูุงู 4":1,"ูุงู 5":0,"ูุฑุณุงู":0},
4:{"ูุงู 1":1,"ูุงู 2":1,"ูุงู 3":1,"ูุงู 4":1,"ูุงู 5":0,"ูุฑุณุงู":0},
5:{"ูุงู 1":1,"ูุงู 2":1,"ูุงู 3":1,"ูุงู 4":1,"ูุงู 5":0,"ูุฑุณุงู":1},
6:{"ูุงู 1":1,"ูุงู 2":2,"ูุงู 3":1,"ูุงู 4":1,"ูุงู 5":0,"ูุฑุณุงู":1},
7:{"ูุงู 1":1,"ูุงู 2":2,"ูุงู 3":1,"ูุงู 4":2,"ูุงู 5":0,"ูุฑุณุงู":1},
8:{"ูุงู 1":1,"ูุงู 2":2,"ูุงู 3":2,"ูุงู 4":2,"ูุงู 5":0,"ูุฑุณุงู":1},
9:{"ูุงู 1":2,"ูุงู 2":2,"ูุงู 3":2,"ูุงู 4":2,"ูุงู 5":0,"ูุฑุณุงู":1},
10:{"ูุงู 1":2,"ูุงู 2":3,"ูุงู 3":2,"ูุงู 4":2,"ูุงู 5":0,"ูุฑุณุงู":1},
11:{"ูุงู 1":2,"ูุงู 2":3,"ูุงู 3":2,"ูุงู 4":3,"ูุงู 5":0,"ูุฑุณุงู":1},
12:{"ูุงู 1":3,"ูุงู 2":3,"ูุงู 3":2,"ูุงู 4":3,"ูุงู 5":0,"ูุฑุณุงู":1},
13:{"ูุงู 1":3,"ูุงู 2":3,"ูุงู 3":2,"ูุงู 4":3,"ูุงู 5":1,"ูุฑุณุงู":1},
14:{"ูุงู 1":3,"ูุงู 2":3,"ูุงู 3":2,"ูุงู 4":3,"ูุงู 5":1,"ูุฑุณุงู":2},
15:{"ูุงู 1":3,"ูุงู 2":4,"ูุงู 3":2,"ูุงู 4":3,"ูุงู 5":1,"ูุฑุณุงู":2},
16:{"ูุงู 1":3,"ูุงู 2":4,"ูุงู 3":2,"ูุงู 4":4,"ูุงู 5":1,"ูุฑุณุงู":2},
17:{"ูุงู 1":3,"ูุงู 2":4,"ูุงู 3":3,"ูุงู 4":4,"ูุงู 5":1,"ูุฑุณุงู":2},
18:{"ูุงู 1":4,"ูุงู 2":4,"ูุงู 3":3,"ูุงู 4":4,"ูุงู 5":1,"ูุฑุณุงู":2},
19:{"ูุงู 1":4,"ูุงู 2":4,"ูุงู 3":3,"ูุงู 4":4,"ูุงู 5":2,"ูุฑุณุงู":2},
20:{"ูุงู 1":4,"ูุงู 2":4,"ูุงู 3":3,"ูุงู 4":4,"ูุงู 5":2,"ูุฑุณุงู":3}
},
SB:{
1:{"ุณูู 1":1,"ุณูู":0,"ุจุงุก 1":0,"ุจุงุก":0,"ุฌูู 1":0,"ุฌูู 2":0},
2:{"ุณูู 1":1,"ุณูู":0,"ุจุงุก 1":1,"ุจุงุก":0,"ุฌูู 1":0,"ุฌูู 2":0},
3:{"ุณูู 1":1,"ุณูู":1,"ุจุงุก 1":1,"ุจุงุก":0,"ุฌูู 1":0,"ุฌูู 2":0},
4:{"ุณูู 1":1,"ุณูู":1,"ุจุงุก 1":1,"ุจุงุก":0,"ุฌูู 1":1,"ุฌูู 2":0},
5:{"ุณูู 1":1,"ุณูู":1,"ุจุงุก 1":1,"ุจุงุก":1,"ุฌูู 1":1,"ุฌูู 2":0},
6:{"ุณูู 1":2,"ุณูู":1,"ุจุงุก 1":1,"ุจุงุก":1,"ุฌูู 1":1,"ุฌูู 2":0},
7:{"ุณูู 1":2,"ุณูู":1,"ุจุงุก 1":2,"ุจุงุก":1,"ุฌูู 1":1,"ุฌูู 2":0},
8:{"ุณูู 1":2,"ุณูู":2,"ุจุงุก 1":2,"ุจุงุก":1,"ุฌูู 1":1,"ุฌูู 2":0},
9:{"ุณูู 1":2,"ุณูู":2,"ุจุงุก 1":2,"ุจุงุก":1,"ุฌูู 1":2,"ุฌูู 2":0},
10:{"ุณูู 1":2,"ุณูู":2,"ุจุงุก 1":2,"ุจุงุก":2,"ุฌูู 1":2,"ุฌูู 2":0},
11:{"ุณูู 1":3,"ุณูู":2,"ุจุงุก 1":2,"ุจุงุก":2,"ุฌูู 1":2,"ุฌูู 2":0},
12:{"ุณูู 1":3,"ุณูู":2,"ุจุงุก 1":3,"ุจุงุก":2,"ุฌูู 1":2,"ุฌูู 2":0},
13:{"ุณูู 1":3,"ุณูู":3,"ุจุงุก 1":3,"ุจุงุก":2,"ุฌูู 1":2,"ุฌูู 2":0},
14:{"ุณูู 1":3,"ุณูู":3,"ุจุงุก 1":3,"ุจุงุก":2,"ุฌูู 1":3,"ุฌูู 2":0},
15:{"ุณูู 1":3,"ุณูู":3,"ุจุงุก 1":3,"ุจุงุก":3,"ุฌูู 1":3,"ุฌูู 2":0},
16:{"ุณูู 1":4,"ุณูู":3,"ุจุงุก 1":3,"ุจุงุก":3,"ุฌูู 1":3,"ุฌูู 2":0},
17:{"ุณูู 1":4,"ุณูู":4,"ุจุงุก 1":3,"ุจุงุก":3,"ุฌูู 1":3,"ุฌูู 2":0},
18:{"ุณูู 1":4,"ุณูู":4,"ุจุงุก 1":3,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":0},
19:{"ุณูู 1":4,"ุณูู":4,"ุจุงุก 1":3,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":1},
20:{"ุณูู 1":4,"ุณูู":4,"ุจุงุก 1":3,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":2},
21:{"ุณูู 1":4,"ุณูู":4,"ุจุงุก 1":3,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":3},
22:{"ุณูู 1":5,"ุณูู":4,"ุจุงุก 1":3,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":3},
23:{"ุณูู 1":5,"ุณูู":4,"ุจุงุก 1":4,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":3},
24:{"ุณูู 1":5,"ุณูู":5,"ุจุงุก 1":4,"ุจุงุก":4,"ุฌูู 1":3,"ุฌูู 2":3},
25:{"ุณูู 1":5,"ุณูู":5,"ุจุงุก 1":4,"ุจุงุก":4,"ุฌูู 1":4,"ุฌูู 2":3},
26:{"ุณูู 1":5,"ุณูู":5,"ุจุงุก 1":4,"ุจุงุก":5,"ุฌูู 1":4,"ุฌูู 2":3},
27:{"ุณูู 1":5,"ุณูู":5,"ุจุงุก 1":4,"ุจุงุก":5,"ุฌูู 1":4,"ุฌูู 2":4},
28:{"ุณูู 1":6,"ุณูู":5,"ุจุงุก 1":4,"ุจุงุก":5,"ุฌูู 1":4,"ุฌูู 2":4},
29:{"ุณูู 1":6,"ุณูู":5,"ุจุงุก 1":5,"ุจุงุก":5,"ุฌูู 1":4,"ุฌูู 2":4},
30:{"ุณูู 1":6,"ุณูู":6,"ุจุงุก 1":5,"ุจุงุก":5,"ุฌูู 1":4,"ุฌูู 2":4}
}
};

function calculate(){
  const r=region.value;
  const u=units.value;
  const d=reportResult;
  if(!r||!u){d.innerText="โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุจูุงูุงุช";return;}
  if(!data[r]||!data[r][u]){d.innerText="โ ูุง ุชูุฌุฏ ุจูุงูุงุช";return;}
  let html='<table class="result-table"><tr><th>ุงููููุน</th><th>ุงูุนุฏุฏ</th></tr>';
  for(const k in data[r][u]){
    html+='<tr><td>'+k+'</td><td>'+data[r][u][k]+'</td></tr>';
  }
  d.innerHTML=html+'</table>';
}

function checkDuplicates(){
  const t=dupInput.value.trim();
  const d=dupResult;
  if(!t){d.innerText="โ๏ธ ุฃุฏุฎูู ูุต";return;}
  const l=t.split(/\n+/),s=new Set(),dup=new Set();
  l.forEach(x=>s.has(x)?dup.add(x):s.add(x));
  d.innerText=dup.size?"โ ููุฌุฏ ุชูุฑุงุฑ:\n"+[...dup].join("\n"):"โ ูุง ููุฌุฏ ุชูุฑุงุฑ";
}

/* ================== ููุงุฑูุฉ ุงูุชูุงุฑูุฑ ================== */
const REGIONS={
LS:["ูุงู 1","ูุงู 2","ูุงู 3","ูุงู 4","ูุงู 5","ูุฑุณุงู"],
SB:["ุณูู 1","ุณูู","ุจุงุก 1","ุจุงุก","ุฌูู 1","ุฌูู 2"]
};

function detectRegion(t){
  if(t.includes("ููุณ ุณุงูุชูุณ"))return"LS";
  if(t.includes("ุณุงูุฏู")||t.includes("ุจูููุชู"))return"SB";
  return null;
}

function extractUnits(r,reg){
  const allowed=REGIONS[reg];
  const lines=r.split(/\n+/);
  const map={};
  let current=null;
  const BLOCKED=[
    "ููุงุฏุฉ","ุงุดุฑุงู ุนุงู","ุฅุดุฑุงู ุนุงู","ูุดุฑู ููุฏุงูู","ุงูุนูููุงุช",
    "ูุงุฆุจ ุงูุนูููุงุช","ุฏุนู","ุงููููุงุก","ุชุณุฌูู ุฎุฑูุฌ",
    "ูุญุฏุงุช ุงูุจุญุซ ู ุงูุฅููุงุฐ","ูุญุฏุงุช ุงูุจุญุซ ูุงูุฅููุงุฐ",
    "ุงูุจุญุซ ู ุงูุฅููุงุฐ","ุงูุจุญุซ ูุงูุฅููุงุฐ"
  ];
  for(const raw of lines){
    const line=raw.trim();
    if(!line)continue;
    const clean=line.replace(":","").trim();
    if(allowed.includes(clean)){current=clean;continue;}
    if(BLOCKED.includes(clean)){current=null;continue;}
    if(current&&/^[A-Z]-\d+/i.test(line)){
      map[line.split(" ")[0]]=current;
    }
  }
  return map;
}

function runCompare(){
  const oldT=oldReport.value.trim();
  const newT=newReport.value.trim();
  const out=compareResult;
  if(!oldT||!newT){out.innerText="โ๏ธ ุฃุฏุฎู ุงูุชูุฑูุฑูู";return;}
  const r1=detectRegion(oldT);
  const r2=detectRegion(newT);
  if(!r1||r1!==r2){out.innerText="โ๏ธ ุงูุชูุงุฑูุฑ ููุณุช ูููุณ ุงูููุทูุฉ";return;}
  const o=extractUnits(oldT,r1);
  const n=extractUnits(newT,r2);
  let same=[];
  for(const c in o){
    if(n[c]&&n[c]===o[c])same.push(c+" โ "+o[c]);
  }
  out.innerText=same.length
    ?"โ ุงููุญุฏุงุช ุงูุชู ูู ุชุชุบูุฑ:\n"+same.join("\n")
    :"โ ุฌููุน ุงููุญุฏุงุช ุชุบูุฑุช ููุงูุนูุง";
}

/* ================== ุงูุฑูุณุช ================== */
function resetAll(){
  region.value="";
  units.value="";
  reportResult.innerHTML="";
  dupInput.value="";
  dupResult.innerHTML="";
  oldReport.value="";
  newReport.value="";
  compareResult.innerHTML="";
}

/* ================== ุงููููุจ ================== */
let loveMode=false;
let stopTimer=null;

document.addEventListener('keydown',e=>{
  if(e.shiftKey&&e.key==="Enter"){
    loveMode=true;
    document.querySelectorAll('.love-msg').forEach(x=>x.remove());
    return;
  }
  if(loveMode&&e.key==="Enter"){
    e.preventDefault();
    spawnLoveHeart();
    clearTimeout(stopTimer);
    stopTimer=setTimeout(()=>{
      loveMode=false;
      showLoveMessage();
    },2000);
  }
});

function spawnLoveHeart(){
  const h=document.createElement('div');
  h.textContent='โค๏ธ';
  h.style.position='fixed';
  h.style.bottom='-30px';
  h.style.left=Math.random()*90+'vw';
  h.style.fontSize='22px';
  h.style.animation='loveFloat 4s ease forwards';
  h.style.zIndex='9999';
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),4000);
}

function showLoveMessage(){
  const m=document.createElement('div');
  m.className='love-msg';
  m.innerText='ุงูุง ุงุญุจู ูุซุฑ ุงููููุจ ูุงูุซุฑุฑ ๐ค';
  m.style.position='fixed';
  m.style.bottom='90px';
  m.style.left='50%';
  m.style.transform='translateX(-50%)';
  m.style.background='#fff';
  m.style.padding='18px 30px';
  m.style.borderRadius='30px';
  m.style.color='#ff5fa2';
  m.style.fontSize='20px';
  m.style.fontWeight='700';
  m.style.boxShadow='0 15px 40px rgba(0,0,0,.25)';
  m.style.animation='msgPop 1.2s ease forwards';
  m.style.zIndex='9999';
  document.body.appendChild(m);
}
</script>

</body>
</html>
